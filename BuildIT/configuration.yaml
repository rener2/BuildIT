homeassistant:

  latitude: 59
  longitude: 26
  temperature_unit: C
  time_zone: Europe/Tallinn

 http:
 api_password: buildit

# View all events in a logbook
logbook:

# Enables support for tracking state changes over time.
history:

# Enables the frontend
frontend:

# Discover some devices automatically
#discovery:

# Allows you to issue voice commands from the frontend
#conversation:

# Show links to resources in log and frontend
#introduction:

hello_world:
group:
  Lights:
    - switch.lobby_led
    - switch.kitchen_led
    - switch.corner_led
    - switch.bedroom_led
  Curtain:
    - switch.curtain_control
  Door:
    - switch.door_control
  Temperature control:
    - switch.peltier_control
    - switch.fan_control
  Movement sensors:
    - sensor.pir_lobby
    - sensor.pir_kitchen
    - sensor.pir_corner
  Temperature and humidity:
    - sensor.humidity_sensor
    - sensor.temperature_sensor
    - sensor.photoresistor_sensor

binary_sensor 1:
  platform: rpi_gpio
  name: PIR_LIVING_ROOM
  ports:
    23: pir_lobby
    24: pir_kitchen
    10: pir_corner
  pull_mode: "UP"
  bouncetime: 50
  invert_logic: false

sensor 1:
  platform: command_sensor_custom
  scan_interval: 1
  name: "photoresistor_sensor"
  command: "/root/.homeassistant/photoresistor_sensor.py"

sensor 2:
  platform: command_sensor_custom
  scan_interval: 1
  name: "humidity_sensor"
  command: "/root/.homeassistant/humidity_sensor.py"

sensor 3:
  platform: command_sensor_custom
  scan_interval: 1
  name: "temperature_sensor"
  command: "/root/.homeassistant/temperature_sensor.py"
  
switch 1:
  platform: command_switch
  switches:
    lobby led:
      oncmd: "/root/.homeassistant/led_loddy_on.py"
      offcmd: "/root/.homeassistant/led_lobby_off.py"

switch 2:
  platform: command_switch
  switches:
    kitchen led:
      oncmd: "/root/.homeassistant/led_kitchen_on.py"
      offcmd: "/root/.homeassistant/led_kitchen_off.py"

switch 3:
  platform: command_switch
  switches:
    corner led:
      oncmd: "/root/.homeassistant/led_corner_on.py"
      offcmd: "/root/.homeassistant/led_corner_off.py"
      
switch 4:
  platform: command_switch
  switches:
    bedroom led:
      oncmd: "/root/.homeassistant/led_bedroom_on.py"
      offcmd: "/root/.homeassistant/led_bedroom_off.py"

switch 2:
  platform: command_switch
  switches:
    door control:
      oncmd: "/root/.homeassistant/stepper_door_open.py"
      offcmd: "/root/.homeassistant/stepper_door_close.py"

switch 5:
  platform: command_switch
  switches:
    curtain control:
      oncmd: "/root/.homeassistant/stepper_window_open.py"
      offcmd: "/root/.homeassistant/stepper_window_close.py"

switch 6:
  platform: command_switch
  switches:
    peltier control:
      oncmd: "/root/.homeassistant/peltier_on.py"
      offcmd: "/root/.homeassistant/peltier_off.py"

switch 7:
  platform: command_switch
  switches:
    fan control:
      oncmd: "/root/.homeassistant/fan_on.py"
      offcmd: "/root/.homeassistant/fan_off.py"


input_select:
  fan_temperature:
    name: Fan Temperature
    options:
     - 10 C
     - 20 C
     - 30 C
  light_condition:
    options:
      - Valge
      - Hamar
      - Pime
  light_curtain_condition:
    options:
      - Lights off when curtains open
      - Lights on when curtains open
      - Home Alone
  living_room_preset:
    options:
      - Visitors
      - Visitors with kids
      - Home Alone

automation:
- alias: "Turn on LED"
  trigger:
    platform: state
    entity_id: binary_sensor.pir_loddy
    # Optional
    from: 'off'
    to: 'on'
  action:
    entity_id: switch.lobby_led
    service: switch.turn_on

- alias: "Turn off LED"
  trigger:
    platform: state
    entity_id: binary_sensor.pir_lobby
    # Optional
    from: 'on'
    to: 'off'
  action:
    entity_id: switch.lobby_led
    service: switch.turn_off


